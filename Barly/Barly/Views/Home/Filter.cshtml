@model Barly.Models.FilterEditModel
@using System.Security.Claims;
@{
    ViewBag.Title = "Petit Spot";
}
<main class="mdl-layout__content home">
    <div class="page-content">
        <div class="content-home">
            <form id="search" action="/Home/Search" method="get" class="form-horizontal">
                <div class="mdl-grid">
                    <div class="mdl-cell--12-col">
                        <p>Souhaitez-vous uniquement trouver des petits spots ouverts ?</p>
                    </div>
                    <div class="input-container checkbox-custom open-bar mdl-cell--12-col">
                        <input type="checkbox" id="open" name="open" @(Model.OnlyOpenBars ? "checked" : "")>
                        <label for="open">
                            <span><i class="material-icons">access_time</i> Uniquement les bars ouverts</span>
                        </label>
                    </div>
                </div>
                <hr />
                <div class="search-content-home mdl-grid">
                    <div class="mdl-cell--12-col">
                        <p>Sélectionnez les arrondissement de votre choix</p>
                    </div>
                </div>
                <div class="search-content-home mdl-grid mdl-grid--no-spacing">
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-1" name="zipcodes" value="75001"
                               @(Model.ZipCodes.Contains("75001") ? "checked" : "") />
                        <label for="list-switch-1">
                            <img src="../Content/img/75001.svg" />
                            <span>1er</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-2" name="zipcodes" value="75002"
                               @(Model.ZipCodes.Contains("75002") ? "checked" : "") />
                        <label for="list-switch-2">
                            <img src="../Content/img/75002.svg" />
                            <span>2eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-3" name="zipcodes" value="75003"
                               @(Model.ZipCodes.Contains("75003") ? "checked" : "") />
                        <label for="list-switch-3">
                            <img src="../Content/img/75003.svg" />
                            <span>3eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-4" name="zipcodes" value="75004"
                               @(Model.ZipCodes.Contains("75004") ? "checked" : "") />
                        <label for="list-switch-4">
                            <img src="../Content/img/75004.svg" />
                            <span>4eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-5" name="zipcodes" value="75005"
                               @(Model.ZipCodes.Contains("75005") ? "checked" : "") />
                        <label for="list-switch-5">
                            <img src="../Content/img/75005.svg" />
                            <span>5eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-6" name="zipcodes" value="75006"
                               @(Model.ZipCodes.Contains("75006") ? "checked" : "") />
                        <label for="list-switch-6">
                            <img src="../Content/img/75006.svg" />
                            <span>6eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-7" name="zipcodes" value="75007"
                               @(Model.ZipCodes.Contains("75007") ? "checked" : "") />
                        <label for="list-switch-7">
                            <img src="../Content/img/75007.svg" />
                            <span>7eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-8" name="zipcodes" value="75008"
                               @(Model.ZipCodes.Contains("75008") ? "checked" : "") />
                        <label for="list-switch-8">
                            <img src="../Content/img/75008.svg" />
                            <span>8eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-9" name="zipcodes" value="75009"
                               @(Model.ZipCodes.Contains("75009") ? "checked" : "") />
                        <label for="list-switch-9">
                            <img src="../Content/img/75009.svg" />
                            <span>9eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-10" name="zipcodes" value="75010"
                               @(Model.ZipCodes.Contains("75010") ? "checked" : "") />
                        <label for="list-switch-10">
                            <img src="../Content/img/75010.svg" />
                            <span>10eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-11" name="zipcodes" value="75011"
                               @(Model.ZipCodes.Contains("75011") ? "checked" : "") />
                        <label for="list-switch-11">
                            <img src="../Content/img/75011.svg" />
                            <span>11eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-12" name="zipcodes" value="75012"
                               @(Model.ZipCodes.Contains("75012") ? "checked" : "") />
                        <label for="list-switch-12">
                            <img src="../Content/img/75012.svg" />
                            <span>12eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-13" name="zipcodes" value="75013"
                               @(Model.ZipCodes.Contains("75013") ? "checked" : "") />
                        <label for="list-switch-13">
                            <img src="../Content/img/75013.svg" />
                            <span>13eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-14" name="zipcodes" value="75014"
                               @(Model.ZipCodes.Contains("75014") ? "checked" : "") />
                        <label for="list-switch-14">
                            <img src="../Content/img/75014.svg" />
                            <span>14eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-15" name="zipcodes" value="75015"
                               @(Model.ZipCodes.Contains("75015") ? "checked" : "") />
                        <label for="list-switch-15">
                            <img src="../Content/img/75015.svg" />
                            <span>15eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-16" name="zipcodes" value="75016"
                               @(Model.ZipCodes.Contains("75016") ? "checked" : "") />
                        <label for="list-switch-16">
                            <img src="../Content/img/75016.svg" />
                            <span>16eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-17" name="zipcodes" value="75017"
                               @(Model.ZipCodes.Contains("75017") ? "checked" : "") />
                        <label for="list-switch-17">
                            <img src="../Content/img/75017.svg" />
                            <span>17eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-18" name="zipcodes" value="75018"
                               @(Model.ZipCodes.Contains("75018") ? "checked" : "") />
                        <label for="list-switch-18">
                            <img src="../Content/img/75018.svg" />
                            <span>18eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-19" name="zipcodes" value="75019"
                               @(Model.ZipCodes.Contains("75019") ? "checked" : "") />
                        <label for="list-switch-19">
                            <img src="../Content/img/75019.svg" />
                            <span>19eme</span>
                        </label>
                    </div>
                    <div class="input-container checkbox-custom mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--2-col-phone">
                        <input type="checkbox" id="list-switch-20" name="zipcodes" value="75020"
                               @(Model.ZipCodes.Contains("75020") ? "checked" : "") />
                        <label for="list-switch-20">
                            <img src="../Content/img/75020.svg" />
                            <span>20eme</span>
                        </label>
                    </div>
                </div>
            </form>
            <script>
                $(function () {
                    $('#submit').click(function () {
                        $("#search").submit();
                    });
                    $('#checkAll').click(function () {
                        if ($('form .search-content-home input[type="checkbox"]').length == $('form .search-content-home input[type="checkbox"]:checked').length) {
                            $('form .search-content-home input[type="checkbox"]').prop('checked', false);
                        }
                        else {
                            $('form .search-content-home input[type="checkbox"]').prop('checked', true);
                        }
                        return false;
                    });
                    $('#geolocalisation').click(function () {
                        if ("geolocation" in navigator) {
                            /* géolocalisation possible */
                            navigator.geolocation.getCurrentPosition(function (position) {
                                window.location = "/Home/SearchFromLocation?latitude=" + position.coords.latitude + "&longitude=" + position.coords.longitude;
                            });
                        } else {
                            toastAlert("Le service de géolocalisation n'est pas disponible.");
                        }
                    });
                    $("#search").submit(function (event) {
                        if ($('form input[type="checkbox"]:checked').length == 0) {
                            event.preventDefault();
                            return false;
                        }
                    });
                });
            </script>
        </div>
    </div>
</main>
<footer class="mdl-mini-footer">
    <div class="mdl-mini-footer--middle-section">
        <button id="checkAll" class="third mdl-button mdl-button--colored">
            <i class="material-icons">playlist_add_check</i>
        </button>
        <button id="submit" class="third mdl-button mdl-button--accent">
            <i class="material-icons">search</i>
        </button>
        <button id="geolocalisation" class="third mdl-button mdl-button--accent" href="#">
            <i class="material-icons">my_location</i>
        </button>
    </div>
</footer>